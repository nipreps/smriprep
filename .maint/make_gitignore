#!/bin/bash
#
# Generate .gitignore from GitHub gitignore templates

BASE_URL="https://raw.githubusercontent.com/github/gitignore/main"
ROOT=$( dirname $( dirname $( realpath $0 ) ) )

SOURCES=(
    Python
    Global/Emacs
    Global/Linux
    Global/Vim
    Global/VisualStudioCode
    Global/Windows
    Global/macOS
)

cat >$ROOT/.gitignore <<END
# Auto-generated by $0 on $( date )
END

cat $ROOT/.maint/local_gitignore >> $ROOT/.gitignore

for SRC in ${SOURCES[@]}; do
    echo >> $ROOT/.gitignore
    curl -sSL ${BASE_URL}/${SRC}.gitignore >> $ROOT/.gitignore
done
